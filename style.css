@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@500;700;800&display=swap');

:root{
  --bg:#fff0f6; --bg2:#fdf4ff;
  --card:#fff5fb; --ink:#2a0820;
  --muted:#7a214f; --like:#22c55e; --nope:#ef4444;
  --cardW: clamp(280px, 92vw, 380px);
  --cardH: min(68vh, 560px);
}
@supports (height: 100dvh){
  :root{ --cardH: min(68dvh, 560px); }
}

*{box-sizing:border-box}
html,body{height:100%}
html{-webkit-text-size-adjust:100%}
body{
  margin:0; color:var(--ink); font-family:Poppins, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background:
    radial-gradient(1000px 500px at 0% -10%, rgba(255,192,203,.35), transparent 60%),
    radial-gradient(900px 500px at 100% 0%, rgba(186,230,253,.35), transparent 60%),
    linear-gradient(180deg, #fff0f6 0%, var(--bg2) 55%, #eef2ff 100%);
  overscroll-behavior-y:none;
  overflow-x:hidden;
}
/* glitter */
body::before{
  content:""; position:fixed; inset:0; pointer-events:none; z-index:0;
  background-image:
    radial-gradient(2px 2px at 20% 30%, #fff8 50%, transparent),
    radial-gradient(1.5px 1.5px at 60% 20%, #fff8 50%, transparent),
    radial-gradient(2px 2px at 80% 70%, #fff8 50%, transparent),
    radial-gradient(1.5px 1.5px at 35% 75%, #fff8 50%, transparent);
  animation: tw 6s ease-in-out infinite;
}
@keyframes tw{0%,100%{opacity:.55; transform:translateY(0)}50%{opacity:.95; transform:translateY(-3px)}}

.app{max-width:430px;margin:0 auto;height:100%;display:flex;flex-direction:column;position:relative;z-index:1;
  padding-left:max(10px, env(safe-area-inset-left));
  padding-right:max(10px, env(safe-area-inset-right));
}

/* header: push down under notch/dynamic island */
header{
  display:flex;align-items:center;justify-content:center;
  padding: calc(env(safe-area-inset-top) + 8px) 16px 10px;
  border-bottom:1px solid #f9a8d4;
  background:linear-gradient(180deg, rgba(255,192,203,.45), rgba(255,192,203,0));
  backdrop-filter: blur(8px);
}
.logo{
  display:inline-flex;align-items:center;gap:6px;
  padding:10px 18px;border-radius:999px;text-decoration:none;
  font-weight:900;font-size:20px;letter-spacing:.2px; line-height:1;
  color:#b31267;
  background:radial-gradient(140% 100% at 0% 0%, #fff 0%, #ffe4f4 55%, #ffd0ee 100%);
  border:2px solid #ff8dc8;
  box-shadow:
    0 14px 36px #ff7ab344,
    0 0 0 1px #fff inset,
    0 0 0 3px #ffd5ec55 inset;
  text-shadow:0 2px 0 #fff;
}

/* deck */
.deck{
  position:relative; flex:1; display:flex; align-items:center; justify-content:center;
  padding:12px 16px 8px;
  min-height: calc(var(--vh, 1vh) * 70);
}
@supports (height: 100dvh){
  .deck{ min-height: 70dvh; }
}

/* cards */
.card{
  position:absolute; width:var(--cardW); height:var(--cardH);
  border-radius:24px; overflow:hidden; cursor:grab; will-change:transform;
  background:linear-gradient(180deg, #fffafc 0%, var(--card) 100%);
  box-shadow:0 22px 60px rgba(236,72,153,.35),0 8px 24px rgba(236,72,153,.22),0 0 0 1px #ffd5ec inset;
  transition:transform .25s ease,filter .25s ease,opacity .25s ease;
}
.card::before{content:""; position:absolute; inset:-2px; border-radius:26px; z-index:2;
  background:conic-gradient(from 0deg,#ffd3e6,#ffb7f0,#d4b5ff,#a5f3fc,#ffd3e6);
  filter:blur(8px) saturate(1.1); opacity:.45; pointer-events:none; animation:ring 6s linear infinite;
}
@keyframes ring{to{transform:rotate(360deg)}}
.card::after{
  content:"kawaigf.com"; position:absolute; right:16px; bottom:12px; z-index:3;
  font-weight:900; font-size:15px; letter-spacing:.35px; color:#b31267; opacity:.95;
  text-shadow:0 2px 8px rgba(255,255,255,.95);
}

.deck .card:not(:last-child){pointer-events:none}
.deck .card:nth-last-child(1){z-index:40}
.deck .card:nth-last-child(2){transform:scale(.985) translateY(10px);filter:blur(1px) brightness(.98);opacity:.96;z-index:30}
.deck .card:nth-last-child(3){transform:scale(.972) translateY(18px);filter:blur(2px) brightness(.96);opacity:.92;z-index:20}
.deck .card:nth-last-child(n+4){transform:scale(.96) translateY(26px);filter:blur(3px) brightness(.94);opacity:.88;z-index:10}
.card.dragging{cursor:grabbing}

.card .photo{position:absolute;inset:0;background:#fff5fb}
.card .photo img{width:100%;height:100%;object-fit:cover;display:block}
.card .shade{position:absolute;inset:0;background:linear-gradient(180deg, transparent 35%, rgba(0,0,0,.15) 70%, rgba(0,0,0,.35))}

/* meta panel */
.card .meta{
  position:absolute; left:12px; right:12px; bottom:12px; z-index:3;
  padding:12px 14px; border-radius:16px;
  background:linear-gradient(180deg, rgba(255,255,255,.40), rgba(255,255,255,.16)) !important;
  -webkit-backdrop-filter: blur(6px) saturate(1.05); backdrop-filter: blur(6px) saturate(1.05);
  border:1.5px solid rgba(255,255,255,.6);
  box-shadow:0 6px 16px rgba(236,72,153,.16), inset 0 0 0 1px rgba(255,255,255,.25);
}
.card .name{font-size:22px;font-weight:900;color:#210616}
.card .tag{margin-top:6px;font-size:14px;color:#3a0b29;opacity:.98}
.chips{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
.chip{font-size:12px;padding:6px 10px;border-radius:999px;background:linear-gradient(180deg,#ffd4ec,#ffc1e6);color:#5a0a3b;border:1px solid #ffc3e3;box-shadow:0 2px 8px rgba(236,72,153,.18), inset 0 0 0 1px #fff8}

/* badges */
.badge{position:absolute;top:12px;padding:8px 12px;border-radius:12px;font-weight:900;letter-spacing:.6px;z-index:3;opacity:0;transform:scale(.9) rotate(-2deg);transition:opacity .12s ease, transform .12s ease;mix-blend-mode:screen;color:#fff;text-shadow:0 2px 10px #0002;box-shadow:0 8px 22px rgba(0,0,0,.18), inset 0 0 0 1px #fff3}
.badge.like{left:12px;background:linear-gradient(135deg,#34d399,#10b981)}
.badge.nope{right:12px;transform:scale(.9) rotate(2deg);background:linear-gradient(135deg,#f43f5e,#ef4444)}

/* controls – shorter footbar */
.controls{
  display:flex;align-items:center;justify-content:center;gap:14px;padding:10px 18px;
  padding-bottom: calc(6px + env(safe-area-inset-bottom));
}
.btn{border:none;border-radius:999px;padding:12px;width:58px;height:58px;font-weight:900;cursor:pointer;position:relative;background:linear-gradient(180deg,#ffe1f1,#ffc1e5);color:#831843;box-shadow:0 12px 26px rgba(236,72,153,.35), inset 0 0 0 1px #fff, inset 0 -6px 18px rgba(255,255,255,.6);transition:transform .12s ease, box-shadow .2s ease, filter .2s ease}
.btn:active{transform:scale(.96) translateY(1px)}
.btn.like{background:linear-gradient(180deg,#ff7bb3,#ec4899);color:#fff}
.btn.nope{background:linear-gradient(180deg,#ff7a7a,#ef4444);color:#fff}

/* footer – shorter */
.footer{color:#a85593;font-size:11.5px;text-align:center;padding:6px 0 calc(10px + env(safe-area-inset-bottom))}
.hint{position:absolute;left:50%;transform:translateX(-50%);bottom:calc(80px + env(safe-area-inset-bottom));background:linear-gradient(180deg,#ffe1f1,#ffd2ec);border:1px solid #ffc3e3;color:#831843;padding:8px 12px;border-radius:12px;box-shadow:0 10px 24px rgba(236,72,153,.25), inset 0 0 0 1px #fff;font-size:12px;font-weight:700}

/* small screens */
@media (max-width: 380px){
  :root{ --cardW: calc(100vw - 24px); }
  .btn{ width:54px; height:54px; padding:10px; }
  .card .name{ font-size:21px }
  .card .tag{ font-size:13.5px }
  .chip{ font-size:11.5px; padding:5px 9px }
}

@media (prefers-reduced-motion: reduce){ *{animation:none!important;transition:none!important} }
